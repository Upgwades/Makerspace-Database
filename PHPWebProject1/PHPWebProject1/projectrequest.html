<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>discussdesk.com - Login form in PHP mysql2</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <link href="style.css" rel="stylesheet" type="text/css" />
    <style>
        form 
        {
            
            display: inline-block;
               
       }

        body 
        {
            text-align: center; 
        }

        .formfield * 
        {
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <h1>New Project Request</h1>
    <form name="form" action="projectrequest.php" method="post" spellcheck="true">
    <p>
    <label for="name"><strong>Name of Project:</strong></label>
    </p>

    <p>
    <input class="inp-text" name="nameofproject" id="nameofproject" type="text" size="30" />
    </p>

    <p>
    <label for="name"><strong>Desired Completion Date:</strong></label>
    </p>
    <p>
    <input class="inp-text" name="completiondate" id="completiondate" type="text" size="30" />
    </p>
    <br />
    <br />
    <label for="stlupload0"><strong>File Upload______</strong></label>
    <label for="material0"><strong>Material/Color______</strong></label>
    <label for="quantityupdown0"><strong>Quantity______</strong></label>
    <label for="notes0"><strong>Part Notes______</strong></label>
    <label for="delete_part0"><strong>Delete Part______</strong></label>

    <p id="paragraph0" class="formfield">
    <input type="file" name="stlupload0" id="stlupload0" accept="stl/*" />
    <select name="material0" id="material0">
        <?php
        include "dbConfig.php";
        global $conn;
        $sql = "select MaterialType from Materials;";
        $materials = $conn->query($sql)->fetchAll();
        ?>
        <?php foreach($materials as $row): ?>
        <option><?= $row["MaterialType"] ?></option>
        <?php endforeach ?>
    </select>
    <input type="number" name="quantityupdown0" id="quantityupdown0" value="1" onkeydown="return false"/>
    <textarea name="notes0" id="notes0" rows="1"></textarea>
    <input type="button" value="X" alt="X" title="X" name="delete_part0" id="delete_part0" onclick="remove(this.id)" />
    </p>

    <br />

    <p>
    <input type="button" value="Add Part" alt="Add Part" title="Add Part" id="add_part" onclick="duplicate()"/>
    </p>

    <br />

    <p>
    <label for="name"><strong>Upload Qoute Document:</strong></label>
    </p>

    <p>
    <input type="file" name="qouteupload" id="qouteupload" accept="pdf/*" />
    </p>
    <br/>
    <p>
    <textarea class="form-control" rows="20" id="generalnotes" name="generalnotes">Add any comments/questions/etc. you have for us.</textarea>
    </p>
    <br/>
    <input class="send_btn" type="submit" value="Submit" alt="Submit" title="Submit" />
    <input class="send_btn" type="button" value="Cancel" alt="Cancel" title="Cancel" onclick="location.href='studentview.html';"/>
    </form>
    
    <script>
        var i = 0;
        

        function duplicate() {
            i++;
            var add_partButton = document.getElementById("add_part");
            var stlupload = document.createElement("input");
            var materialSelect = document.createElement("select");
            var quantityupdown = document.createElement("input");
            var notes = document.createElement("textarea");
            var delete_part = document.createElement("input");
            var paragraph = document.createElement("p");

            stlupload.setAttribute("type", "file");
            stlupload.setAttribute('id', 'stlupload' + i);
            stlupload.setAttribute('name', 'stlupload' + i);

            materialSelect.setAttribute('id', 'material' + i);
            materialSelect.setAttribute('name', 'material' + i);
            materialSelect.options[materialSelect.options.length] = new Option('PLA/Red', '0')

            quantityupdown.setAttribute("type", "number");
            quantityupdown.setAttribute('id', 'quantityupdown' + i);
            quantityupdown.setAttribute('name', 'quantityupdown' + i);
            quantityupdown.setAttribute('value', '1');
            quantityupdown.setAttribute("onkeydown","return false")

            notes.setAttribute('rows', "1")
            notes.setAttribute('id', 'notes' + i);
            notes.setAttribute('name', 'notes' + i);

            delete_part.setAttribute("type", "button");
            delete_part.setAttribute('id', 'delete_part' + i);
            delete_part.setAttribute('name', 'delete_part' + i);
            delete_part.setAttribute('value','X');
            delete_part.setAttribute("onclick", "remove(this.id)");

            paragraph.setAttribute("class", "formfield");
            paragraph.setAttribute("id", "paragraph" + i);

            add_partButton.insertAdjacentElement('beforebegin', paragraph);
            paragraph.appendChild(stlupload);
            paragraph.appendChild(materialSelect);
            paragraph.appendChild(quantityupdown);
            paragraph.appendChild(notes);
            paragraph.appendChild(delete_part);
            delete_part.insertAdjacentHTML('afterend', '<br/>');
            delete_part.insertAdjacentHTML('afterend', '<br/>');
            materialSelect.insertAdjacentHTML('afterend', ' ');
            quantityupdown.insertAdjacentHTML('afterend', ' ');
            notes.insertAdjacentHTML('afterend', ' ');
        }
    </script>
    <script>
        function remove(ID)
        {
            var index = ID.substr(ID.length - 1);
            document.getElementById("paragraph" + index).remove();
            
        }
    </script>


</body>
</html>